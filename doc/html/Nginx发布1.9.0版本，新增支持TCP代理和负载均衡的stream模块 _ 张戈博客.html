<!DOCTYPE html>
<!--
★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★
★                                                                                                                                          ★
★                        ZGZG                      ZGZG  ZGZG              ZGZG        ZGZGZGZG                  ZGZG                      ★
★            ZGZGZGZGZG  ZGZG  ZGZG                ZGZG    ZGZG            ZGZG  ZGZGZGZGZGZGZGZG      ZGZGZGZGZGZGZGZGZGZGZGZG            ★
★                  ZGZG  ZGZGZGZG                  ZGZG                    ZGZG        ZGZG            ZGZG  ZGZG          ZGZG            ★
★                  ZGZG  ZGZGZG                    ZGZGZGZGZGZGZGZG        ZGZG  ZGZGZGZGZGZGZGZG            ZGZGZGZGZGZGZG                ★
★            ZGZGZGZGZG  ZGZG              ZGZGZGZGZGZGZG                ZGZGZGZGZGZG  ZGZG  ZGZG          ZGZG        ZGZG                ★
★            ZGZG      ZGZGZGZGZGZGZG              ZGZG      ZGZG          ZGZG  ZGZGZGZGZGZGZGZG        ZGZGZGZG    ZGZG                  ★
★            ZGZG        ZGZGZGZG                    ZGZG  ZGZG            ZGZG  ZGZG  ZGZG  ZGZG              ZGZGZGZG                    ★
★            ZGZGZGZGZG  ZGZGZGZG                    ZGZGZGZG              ZGZG  ZGZG  ZGZG  ZGZG      ZGZGZGZGZG    ZGZGZGZGZG            ★
★                  ZGZG  ZGZG  ZGZG                    ZGZG    ZGZG        ZGZG            ZGZG            ZGZGZGZGZGZGZGZG                ★
★                  ZGZG  ZGZG  ZGZG                  ZGZGZGZG  ZGZG        ZGZG  ZGZGZGZGZGZGZGZG          ZGZG        ZGZG                ★
★                  ZGZG  ZGZGZG  ZGZG            ZGZGZG    ZGZGZGZG        ZGZG    ZGZG    ZGZG            ZGZGZGZGZGZGZGZG                ★
★              ZGZGZG    ZGZG                ZGZGZG          ZGZGZG        ZGZG      ZGZGZGZGZG            ZGZG        ZGZG                ★
★                                                                                                                                          ★
★                                                          ———— 如果你也想获得这样的加载速度，请关注有偿服务：https://zhangge.net/pay/ ★
★                                                                                                                                          ★
★★★★★★★★★★★★★★★★★【Power By PHP优化代码(定制版)】[压缩比率：94.87%,缓存日期：2016-02-27 15:50:49]★★★★★★★★★★★★★★
-->
<html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta name="applicable-device"content="pc,mobile"><title>Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块 | 张戈博客</title><meta itemprop="name" content="Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块 | 张戈博客"/><script>window._bd_share_config={"common":{"bdSnsKey":{"tsina":"1034947262","tqq":"287988783"},"bdText":"分享@张戈博客 的文章『Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块』：昨天在公司微信群，CTO分享了这个消息，对运维来说以后基于TCP协议的后端业务的高可用又多了一个新的选择，实在是棒极了！...","bdMini":"2","bdMiniList":false,"bdPic":"https://res.zhangge.net/wp-content/uploads/2014/07/nginx.png","bdStyle":"1","bdSize":"16"},"share":{"bdSize":16}};</script><meta name="description" itemprop="description" content="昨天在公司微信群，CTO分享了这个消息，对运维来说以后基于TCP协议的后端业务的高可用又多了一个新的选择，实在是棒极了！" /><meta name="keywords" content="nginx,nginx安装,nginx配置" /><meta http-equiv="Cache-Control" content="no-transform" /><meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="shortcut icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="114x114" href="https://res.zhangge.net/logo.png" /><link rel="profile" href="http://gmpg.org/xfn/11"><!--<link rel="pingback" href="https://zhangge.net/xmlrpc.php">--><script type="text/javascript">if (document.location.protocol != "https:" && navigator.userAgent.indexOf("MSIE 6.0") < 0 ) { location.href = location.href.replace(/^http:/,"https:");}if (document.location.host != "zhangge.net") { location.href = location.href.replace(document.location.host,'zhangge.net');} </script><script>var _hmt = _hmt || [];(function() { var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?f2826885e8c15bc6de5504516e18a28f"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><link rel='stylesheet' id='style-css' href='/wp-content/themes/begin-child/style.css?ver=2015.02.04' type='text/css' media='all' /><link rel='stylesheet' id='home-css' href='/wp-content/themes/begin/cms/cms.css?ver=2015.02.04' type='text/css' media='all' /><script type='text/javascript' src='https://lib.sinaapp.com/js/jquery/1.8.2/jquery.min.js'></script> <script src="/wp-content/themes/begin-child/js/comments-ajax.js?ver=20150219"></script> <script type='text/javascript' src='https://dn-zhangge.qbox.me/wp-content/themes/begin-child/js/fancybox.js'></script><!--[if lt IE 9]><script src="/wp-content/themes/begin-child/js/html5.js"></script><script src="/wp-content/themes/begin-child/js/css3-mediaqueries.js?ver=2"></script><![endif]--><link rel="canonical" href="https://zhangge.net/5037.html" /><!-- Start Of Script Generated By WP-PostViews --><script type="text/javascript">/* <![CDATA[ */jQuery.ajax({type:'GET',url:'https://zhangge.net/wp-admin/admin-ajax.php',data:'postviews_id=5230&action=postviews',cache:false});/* ]]> */</script><!-- End Of Script Generated By WP-PostViews --><style>blockquote { color: #7da33c; background: #ecf2d6 url('/wp-content/themes/begin-child/img/sc_notice.png') -1px -1px no-repeat; border: 1px solid #aac66d; padding: 15px 15px 5px 35px; width: 98%;}blockquote p {text-indent:0 !important;}.logo-site{width:190px}.ad-site{min-height:96px;}#footer-widget-box{position: relative;}.cat-title .fa-bars { float: left; font-size: 18px; color: #2f889a; width: 40px; height: 40px; line-height: 40px; padding: 1px 0; text-align: center; border-right: 1px solid #ddd;}.widget .textwidget { padding: 5px;}.cat-box .cat-title a {float:left;}@media screen and (max-width:1080px){ .weibo{margin: 12px 0 0 -50px;} .breadcrumb {float: left;}}.site-title img {max-width:165px;}.single-data {color: #999; line-height: 26px;margin: 0 5px 0 0; padding: 0 10px;border: 1px solid #ddd; border-radius: 2px; box-shadow: 0 1px 1px rgba(0, 0, 0, 0.04);}.nav-previous .fa.fa-angle-left,.nav-next .fa.fa-angle-right{ font-size: 1.5em; }.archive-content{max-height:75px;overflow:hidden;}#fancybox-loading {left: 50%;}.single-content h2 {border-bottom: 1px solid #e40000;}.catalog-button{bottom: 320px !important;}.qr-img img {position: absolute;top: 75px;right: 75px;width: 30px;height: 30px;}.single-content .directory { height: 35px;}.single-content h2 {padding-bottom: 5px;}#feed_widget li {width: 47px; line-height: 47px;}</style><style>#content, .top-nav, #top-menu, #mobile-nav, #main-search, .breadcrumb, .footer-widget {width: 1216px;}@media screen and (max-width: 1216px) {#content, #colophon, .breadcrumb, .footer-widget {width: 98%;}#top-menu{width: 98%;}.top-nav {width: 98%;}#main-search, #mobile-nav {width: 98%;}.breadcrumb { width: 98%;}}</style><style type="text/css" id="custom-background-css">body.custom-background { background-image: url('https://res.zhangge.net/wp-content/uploads/2014/11/bg.png'); background-repeat: repeat; background-position: top left; background-attachment: fixed; }</style> <style type="text/css">@media screen and (max-width: 1360px) { #cproIframe2001holder{display:none !important;} #cproIframe2002holder{display:none !important;}}</style> </head><body class="single single-post postid-5230 single-format-standard custom-background"><div id="page" class="hfeed site"> <header id="masthead" class="site-header"> <nav id="top-header"> <div class="top-nav"> <div id="inf-d"> <div id="inf-b"><script type="text/javascript">today=new Date();var day; var date; var hello;hour=new Date().getHours();if(hour < 6){ hello=' 凌晨好！ ';}else if(hour < 9){ hello=' 早上好！';}else if(hour < 12){ hello=' 上午好！';}else if(hour < 14){ hello=' 中午好！ ';}else if(hour < 17){ hello=' 下午好！ ';}else if(hour < 19){ hello=' 傍晚好！';}else if(hour < 22){ hello=' 晚上好！ ';}else{ hello='夜深了！ ';}function GetCookie(sName) { var arr = document.cookie.match(new RegExp("(^| )"+sName+"=([^;]*)(;|$)")); if(arr !=null){return unescape(arr[2])}; return null;}var Guest_Name = decodeURIComponent(GetCookie('author'));var webUrl = webUrl;if (Guest_Name != "null" ){ hello = Guest_Name+' , '+hello+' 欢迎回来。';}document.write(' '+hello);</script><span id=localtime><script type="text/javascript">today=new Date(); var tdate,tday, x,year; var x = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五","星期六");var MSIE=navigator.userAgent.indexOf("MSIE");if(MSIE != -1){ year =(today.getFullYear());} else { year = (today.getYear()+1900);} tdate= year+ "年" + (today.getMonth() + 1 ) + "月" + today.getDate() + "日" + " " + x[today.getDay()];document.write(tdate); setInterval(Refresh, 1000);</script></span><!----> </div> <div id="inf-e"></div></div> <div class="menu-%e9%a1%b6%e9%83%a8%e8%8f%9c%e5%8d%95-container"><ul id="menu-%e9%a1%b6%e9%83%a8%e8%8f%9c%e5%8d%95" class="top-menu"><li id="menu-item-5201" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5201"><a title="nofollow" href="https://zhangge.net/archives.html">文章归档</a></li><li id="menu-item-5202" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5202"><a href="https://zhangge.net/goodarticles/">好文推荐</a></li><li id="menu-item-5203" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5203"><a title="nofollow" href="https://zhangge.net/others/feeling/">东拉西扯</a></li><li id="menu-item-5204" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5204"><a title="nofollow" href="https://zhangge.net/others/itnews/">业界新闻</a></li><li id="menu-item-5218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5218"><a title="nofollow" target="_blank" rel="nofollow" href="https://zhangge.net/go/roll/">手气不错</a></li></ul></div> </div> </nav><!-- #top-header --> <div id="menu-box"> <div id="top-menu"> <span class="nav-search">搜索</span> <hgroup class="logo-site"> <div class="site-title"> <a href="https://zhangge.net/"><img src="/wp-content/themes/begin-child/img/logo.png" width="220" height="50" alt="张戈博客" /></a> </div> </hgroup><!-- .logo-site --> <div id="site-nav-wrap"> <div id="sidr-close"><a href="#sidr-close" class="toggle-sidr-close">关闭</a></div> <nav id="site-nav" class="main-nav"> <a href="#sidr-main" id="navigation-toggle"><span class="bars">导航</span></a> <div class="menu-%e7%bd%91%e7%ab%99%e5%af%bc%e8%88%aa-container"><ul id="menu-%e7%bd%91%e7%ab%99%e5%af%bc%e8%88%aa" class="down-menu nav-menu"><li id="menu-item-5198" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-5198"><a href="https://zhangge.net/"><i class="fa-home fa"></i><span class="font-text">首页</span></a></li><li id="menu-item-282" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-282"><a target="_blank" href="https://zhangge.net/op/"><i class="fa-windows fa"></i><span class="font-text">系统运维</span></a><ul class="sub-menu"> <li id="menu-item-1091" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1091"><a target="_blank" href="https://zhangge.net/op/os/"><i class="fa-linux fa"></i><span class="font-text">操作系统</span></a></li> <li id="menu-item-1090" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1090"><a target="_blank" href="https://zhangge.net/op/web/"><i class="fa-rocket fa"></i><span class="font-text">WEB应用</span></a></li> <li id="menu-item-1092" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1092"><a target="_blank" href="https://zhangge.net/op/db/"><i class="fa-database fa"></i><span class="font-text">数据库</span></a></li></ul></li><li id="menu-item-285" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-285"><a target="_blank" href="https://zhangge.net/script/"><i class="fa-code fa"></i><span class="font-text">脚本编程</span></a></li><li id="menu-item-413" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-413"><a target="_blank" href="https://zhangge.net/website/"><i class="fa-wordpress fa"></i><span class="font-text">博客建设</span></a></li><li id="menu-item-1821" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1821"><a target="_blank" href="https://zhangge.net/resources/"><i class="fa-share-alt-square fa"></i><span class="font-text">资源分享</span></a></li><li id="menu-item-4310" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4310"><a target="_blank" rel="nofollow" href="https://zhangge.net/liuyan.html"><i class="fa-comments fa"></i><span class="font-text">给我留言</span></a></li><li id="menu-item-884" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-884"><a title="博客简介" target="_blank" rel="nofollow" href="https://zhangge.net/about.html"><i class="fa-heartbeat fa"></i><span class="font-text">关于</span></a></li></ul></div> </nav><!-- #site-nav --> </div><!-- #site-nav-wrap --> </div><!-- #top-menu --> </div><!-- #menu-box --></header><!-- #masthead --><div id="main-search"> <div id="searchbar"></form> <form method="get" id="searchform" action="https://zhangge.net/search.html" target="_blank"> <input class="swap_value" placeholder="请输入百度站内搜索关键词" name="q"> <button type="submit" id="searchsubmit">百度一下</button> </form></div><div id="searchbar"><form method="get" id="searchform" action="https://www.haosou.com/s?q=site%3Azhangge.net"> <input class="swap_value" id="haosou" placeholder="请输入好搜站内搜索关键词" onkeydown="if(event.keyCode==13){return Search('haosou');}"> <button type="submit" id="searchsubmit" onClick="return Search('haosou');">好搜一下</button></form></div><div id="searchbar"> <form method="get" id="searchform" action="https://zhangge.net/search/"> <input class="swap_value" id="wp_search" placeholder="请输入博客站内搜索关键词" onkeydown="if(event.keyCode==13){return Searcher('wp');}"> <button type="submit" id="searchsubmit" onclick="return Search('wp');">默认搜索</button></form></div><script type="text/javascript">function Search(type){ if (type=="haosou") { var value=$("#haosou").val()||""; window.open("https://www.haosou.com/s?q="+value+"+site%3Azhangge.net"); } else { var value=$("#wp_search").val()||""; window.open("https://zhangge.net/search/"+value+"/"); } return false;}</script> <div class="clear"></div></div> <nav class="breadcrumb"> <a title="返回首页" href="https://zhangge.net">首页</a><i class="fa fa-angle-right"></i><a href="https://zhangge.net/op/">系统运维</a><i class="fa fa-angle-right"></i><a href="https://zhangge.net/op/web/" rel="category tag">WEB应用</a><i class="fa fa-angle-right"></i>正文 </nav> <div id="content" class="site-content"> <div class="clear"></div><style type="text/css">@media screen and (max-width: 600px) { .single-data { display: none !important; } }</style> <div id="primary" class="content-area"> <main id="main" class="site-main" role="main"> <article id="post-5230" class="post-5230 post type-post status-publish format-standard has-post-thumbnail hentry category-web tag-nginx"> <header class="entry-header"> <a rel="bookmark" href=""><h1 class="entry-title">Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块</h1></a> </header><!-- .entry-header --> <div class="entry-content"> <div class="single-content"> <div style="height:1px;"><a href="https://zhangge.net/5037.html" style="border:0;"><img src="https://res.zhangge.net/copyright.ico" width="0" height="0" alt="《Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块》来自张戈博客" style="border:0;padding:0;margin:0;width:0;height:0;" /></a></div><p>昨天在公司微信群，CTO分享了这个消息，对运维来说以后基于TCP协议的后端业务的高可用又多了一个新的选择，实在是棒极了！</p><p>一直以来，Nginx 并不支持tcp协议，所以后台的一些基于TCP的业务就只能通过其他高可用负载软件来完成了，比如Haproxy。</p><p><a href="https://res.zhangge.net/wp-content/uploads/2014/07/nginx.png" alt="Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块" title="Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块" class="cboxElement" rel="example_group"5230><img class="aligncenter wp-image-4153 size-full" src="https://dn-zhangge.qbox.me/wp-content/uploads/2014/07/nginx.png?imageMogr2/thumbnail/480x" alt="Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块" tilte="Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块" /></a></p><p>这算是一个nginx比较明显的缺憾。不过，在1.90发布后这个认知将得到改写：</p><table class="news"><tbody><tr><td class="date">2015-04-28</td><td><a href="https://zhangge.net/goto/aHR0cDovL25naW54Lm9yZy9lbi9kb3dubG9hZC5odG1s" rel="nofollow">nginx-1.9.0</a> mainline version has been released, with the stream module for generic TCP proxying and load balancing.</p><p>nginx-1.9.0 已发布，该版本增加了 stream 模块用于一般的 TCP 代理和负载均衡。</td></tr></tbody></table><blockquote><p>The <code>ngx_stream_core_module</code> module is available since version 1.9.0. This module is not built by default, it should be enabled with the <code>--with-stream</code> configuration parameter.</p><p>ngx_stream_core_module 这个模块在1.90版本后将被启用。但是并不会默认安装，需要在编译时通过指定 --with-stream 参数来激活这个模块。</p><p>其他改进包括：</p><ul><li>Change: 删除过时的 aio 和 rtsig 事件处理方法</li><li>Feature: 可在 upstream 块中使用 "zone" 指令</li><li>Feature: 流模块，支持 TCP 代理和负载均衡</li><li>Feature: ngx_http_memcached_module 支持字节范围</li><li>Feature: Windows 版本支持使用共享内存，带随机化地址空间布局.</li><li>Feature: "error_log" 指令可在 mail 和 server 级别</li><li>Bugfix: the "proxy_protocol" parameter of the "listen" directive did not work if not specified in the first "listen" directive for a listen socket.</li></ul></blockquote><p>所以，我们如果需要用到这个功能，就需要加上 --with-stream 参数重新编译nginx。对于已在线上运行的nginx，你可能要用到平滑升级来避免线上的服务被中断，可以参考张戈以前分享的教程：</p><blockquote><p class="entry-title">《<a href="https://zhangge.net/4856.html" target="_blank">Nginx在线服务状态下平滑升级或新增模块的详细操作记录</a>》</p></blockquote><p>最后贴一下官方分享的stream模块的简单配置demo：</p> <div id="crayon-56d15559c63f1598835108" class="crayon-syntax crayon-theme-solarized-dark crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover disable-anim" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important;"> <div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span> <div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div> <div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div> <div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">worker_processes auto;error_log /var/log/nginx/error.log info;stream { upstream backend { hash $remote_addr consistent; server backend1.example.com:12345 weight=5; server 127.0.0.1:12345 max_fails=3 fail_timeout=30s; server unix:/tmp/backend3; } server { listen 12345; proxy_connect_timeout 1s; proxy_timeout 3s; proxy_pass backend; } server { listen [::1]:12345; proxy_pass unix:/tmp/stream.socket; }}</textarea></div> <div class="crayon-main" style=""> <table class="crayon-table"> <tr class="crayon-row"> <td class="crayon-nums " data-settings="show"> <div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-2">2</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-4">4</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-6">6</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-8">8</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-10">10</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-12">12</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-14">14</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-16">16</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-18">18</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-20">20</div><div class="crayon-num" data-line="crayon-56d15559c63f1598835108-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-56d15559c63f1598835108-22">22</div></div> </td> <td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-56d15559c63f1598835108-1"><span class="crayon-e">worker_processes </span><span class="crayon-v">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-2"><span class="crayon-v">error_log</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-v">nginx</span><span class="crayon-o">/</span><span class="crayon-v">error</span><span class="crayon-e">.log</span><span class="crayon-h"> </span><span class="crayon-v">info</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-3"><span class="crayon-e">stream</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-e">backend</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">hash</span><span class="crayon-h"> </span><span class="crayon-v">$remote_addr</span><span class="crayon-h"> </span><span class="crayon-v">consistent</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">server </span><span class="crayon-v">backend1</span><span class="crayon-e">.example</span><span class="crayon-e">.com</span><span class="crayon-o">:</span><span class="crayon-cn">12345</span><span class="crayon-h"> </span><span class="crayon-v">weight</span><span class="crayon-o">=</span><span class="crayon-cn">5</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">server</span><span class="crayon-h"> </span><span class="crayon-cn">127.0.0.1</span><span class="crayon-o">:</span><span class="crayon-cn">12345</span><span class="crayon-h"> </span><span class="crayon-v">max_fails</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-v">fail_timeout</span><span class="crayon-o">=</span><span class="crayon-cn">30s</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">server </span><span class="crayon-v">unix</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">backend3</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-10">&nbsp;</div><div class="crayon-line" id="crayon-56d15559c63f1598835108-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">server</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">listen</span><span class="crayon-h"> </span><span class="crayon-cn">12345</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">proxy_connect</span><span class="crayon-sy">_</span>timeout<span class="crayon-h"> </span><span class="crayon-cn">1s</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">proxy</span><span class="crayon-sy">_</span>timeout<span class="crayon-h"> </span><span class="crayon-cn">3s</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">proxy_pass </span><span class="crayon-v">backend</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">server</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">listen</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-o">::</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-o">:</span><span class="crayon-cn">12345</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">proxy_pass </span><span class="crayon-v">unix</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">stream</span><span class="crayon-e">.socket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-56d15559c63f1598835108-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-56d15559c63f1598835108-22"><span class="crayon-sy">}</span></div></div></td> </tr> </table> </div> </div><p>和http模块类似，简单明了。相信熟悉 nginx 的朋友很容易的就能完成一个 nginx 下的 TCP 负载均衡集群配置。</p><p>由于工作繁忙，实在是心有余而力不足。还好最近公司给我招了个小鲜肉来做运维助理，等空下来了，我再去测一测这个 Nginx 的 TCP 代理和负载均衡功能。到时候再来博客分享一二，敬请期待！</p> </div> <div class="clear"></div><div id="social"> <div class="social-main"> <span class="like"> <a href="javascript:;" data-action="ding" data-id="5230" title="文章很赞，我赞，我赞，我赞赞赞..." class="favorite"><i class="fa fa-thumbs-up"></i></i>赞 <i class="count"> 9</i> </a> </span> <span class="shang-p"><div class="bd-reward-stl"><button id="bdRewardBtn"><span>赏</span></button></div></span> <span class="share-s"><a href="#share" id="share-main-s" title="文章不错，好内容要一起分享."><i class="fa fa-share-alt"></i>分享</a></span> <div class="clear"></div> </div> <div id="share"> <div class="bdsharebuttonbox"> <a title="一键分享" href="#" class="fa fa-share-alt-square" class="popup_mshare" data-cmd="mshare"></a> <a title="分享到QQ空间" href="#" class="fa fa-qq" class="bds_qzone" data-cmd="qzone"></a> <a title="分享到新浪微博" href="#" class="fa fa-weibo" class="bds_tsina" data-cmd="tsina"></a> <a title="分享到腾讯微博" href="#" class="fa fa-pinterest-square" class="bds_tqq" data-cmd="tqq"></a> <a title="分享到人人网" href="#" class="fa fa-renren" class="bds_renren" data-cmd="renren"></a> <a title="分享到微信" href="#" class="fa fa-weixin" class="bds_weixin" data-cmd="weixin"></a> <a title="更多"href="#" class="fa fa-plus-square" class="bds_more" data-cmd="more"></a> </div></div></div><script type="text/javascript" src="https://o1r4fva7i.qnssl.com/zzdashang/js/bd-zz-reward.js"></script> <footer class="single-footer"> <ul class="single-meta"> <li class="single-data">2015年04月29日</li> <li class="comment"><a href="https://zhangge.net/5037.html#comments">评论 3 </a></li> <li class="views"> 阅读 3,295 </li> <li class="r-hide"><a href="javascript:pr()" onclick="javascript:this.innerHTML=(this.innerHTML=='隐藏边栏'?'显示边栏':'隐藏边栏');">隐藏边栏</a></li> </ul> <ul id="fontsize">A+</ul> <div class="single-cat-tag"> <div class="single-cat">发布日期：2015年04月29日&nbsp;&nbsp;所属分类：<a href="https://zhangge.net/op/web/" rel="category tag">WEB应用</a></div> <div class="single-tag">标签：<a href="https://zhangge.net/tag/nginx/" rel="tag">nginx</a><a href="https://zhangge.net/tag/nginx%e5%ae%89%e8%a3%85/" rel="tag">nginx安装</a><a href="https://zhangge.net/tag/nginx%e9%85%8d%e7%bd%ae/" rel="tag">nginx配置</a></div> </div> </footer><!-- .entry-footer --> <div class="clear"></div> </div><!-- .entry-content --> </article><!-- #post --> <div class="authorbio"> <img src="https://zhangge.net/avatar/5254bdf483b41175ce069def5319e87d?s=64&d=mm" class="avatar avatar-64" height="64" width="64"> <ul class="spostinfo"> <li><strong>版权声明：</strong>本站整理文章，于10个月前，由张戈发表，共 1210字。</li> <li><strong>转载请注明：</strong><a href="https://zhangge.net/5037.html" rel="bookmark" title="本文固定链接 https://zhangge.net/5037.html">Nginx发布1.9.0版本，新增支持TCP代理和负载均衡的stream模块 | 张戈博客</a><a href="#" onclick="copy_code('https://zhangge.net/5037.html'); return false;"> +复制链接</a></li> </ul></div> <div id="related-img"> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <a href="https://zhangge.net/5088.html"><img width="1275" height="646" src="https://dn-zhangge.qbox.me/wp-content/uploads/2015/12/php7.png?imageView2/1/w/280/h/210/q/75" class="attachment- size- wp-post-image" alt="php7" /></a> </figure> <div class="related-title"><a href="https://zhangge.net/5088.html">分享一下php7和其他php多版本共存的配置教程</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <a href="https://zhangge.net/5079.html"><img width="1010" height="1024" src="https://dn-zhangge.qbox.me/wp-content/uploads/2014/12/SSL-Security.jpg?imageView2/1/w/280/h/210/q/75" class="attachment- size- wp-post-image" alt="SSL-Security" /></a> </figure> <div class="related-title"><a href="https://zhangge.net/5079.html">全站启用SSL之后，如何兼容不支持https抓取的搜索引擎？</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <a href="https://zhangge.net/5076.html"><img width="439" height="240" src="https://dn-zhangge.qbox.me/wp-content/uploads/2015/12/http-2.0.jpg?imageView2/1/w/280/h/210/q/75" class="attachment- size- wp-post-image" alt="http-2.0" /></a> </figure> <div class="related-title"><a href="https://zhangge.net/5076.html">升级Nginx1.9.5以上版本，开启博客网站http2.0时代</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <a href="https://zhangge.net/5067.html"><img width="491" height="197" src="https://dn-zhangge.qbox.me/wp-content/uploads/2014/07/nginx.png?imageView2/1/w/280/h/210/q/75" class="attachment- size- wp-post-image" alt="nginx" /></a> </figure> <div class="related-title"><a href="https://zhangge.net/5067.html">Nginx配置多站点下的Proxy_cache或Fastcgi_cache缓存加速</a></div> </div> </div> <div class="clear"></div></div> <div id="single-widget"> <div class="clear"></div> </div> <nav class="nav-single"> <a href="https://zhangge.net/5020.html" rel="prev"><span class="meta-nav"><span class="post-nav"><i class="fa fa-angle-left"></i> 上一篇</span><br/>Apache/Nginx伪静态规则匹配http://出现的问题与解决</span></a><a href="https://zhangge.net/5039.html" rel="next"><span class="meta-nav"><span class="post-nav">下一篇 <i class="fa fa-angle-right"></i></span><br/>为WordPress开启Nginx缩略图功能，七牛从此陌路</span></a> <div class="clear"></div> </nav> <nav class="nav-single-c"> <nav class="navigation post-navigation" role="navigation"> <h2 class="screen-reader-text">文章导航</h2> <div class="nav-links"><div class="nav-previous"><a href="https://zhangge.net/5036.html" rel="prev"><span class="meta-nav-r" aria-hidden="true"><i class="fa fa-angle-left"></i></span> </a></div><div class="nav-next"><a href="https://zhangge.net/5038.html" rel="next"><span class="meta-nav-l" aria-hidden="true"><i class="fa fa-angle-right"></i></span> </a></div></div> </nav> </nav> <!-- 引用 --><div id="comments" class="comments-area"> <div id="respond" class="comment-respond"> <h3 id="reply-title" class="comment-reply-title">发表评论<small><a rel="nofollow" id="cancel-comment-reply-link" href="/5037.html#respond" style="display:none;">取消回复</a></small></h3> <form action="https://zhangge.net/wp-comments-post.php" method="post" id="commentform"> <div id="author_info"></div> <div id="comment-author-info"> <span class='set_avatar' style='float: right;'><a title='没头像？去申请一个自己的Gravatar全球通用头像吧！' target='_blank' rel='nofollow' href='https://en.gravatar.com/'><img id='real-time-gravatar' class='avatar' src='https://zhangge.net/avatar/' alt='gravatar' height='48' width='48' /></a></span> <p class="comment-form-author"> <input type="text" name="author" id="author" class="commenttext" value="" tabindex="1" /> <label for="author">昵称（必填）</label> </p> <p class="comment-form-email"> <input type="text" name="email" id="email" class="commenttext" value="" tabindex="2" /> <label for="email">邮箱（必填）</label> </p> <p class="comment-form-url"> <input type="text" name="url" id="url" class="commenttext" value="" tabindex="3" /> <label for="url">网址（选填）</label> </p> </div> <p class="comment-form-comment"><textarea id="comment" placeholder="欢迎来到张戈博客！留言是一种美德，你可以写点什么..." name="comment" rows="4" tabindex="4"></textarea></p> <div id="smiley" style="max-width:91%;"><script type="text/javascript">/* <![CDATA[ */ function grin(tag) { var myField; tag = ' ' + tag + ' '; if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') { myField = document.getElementById('comment'); } else { return false; } if (document.selection) { myField.focus(); sel = document.selection.createRange(); sel.text = tag; myField.focus(); } else if (myField.selectionStart || myField.selectionStart == '0') { var startPos = myField.selectionStart; var endPos = myField.selectionEnd; var cursorPos = endPos; myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length); cursorPos += tag.length; myField.focus(); myField.selectionStart = cursorPos; myField.selectionEnd = cursorPos; } else { myField.value += tag; myField.focus(); } }/* ]]> */</script><a onclick="javascript:grin(':?:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_question.gif" title="疑问" alt="疑问" /></a> <a onclick="javascript:grin(':razz:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_razz.gif" title="调皮" alt="调皮" /></a> <a onclick="javascript:grin(':sad:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_sad.gif" title="伤心" alt="伤心" /></a> <a onclick="javascript:grin(':evil:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_evil.gif" title="抠鼻" alt="抠鼻" /></a> <a onclick="javascript:grin(':!:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_exclaim.gif" title="黑线" alt="黑线" /></a> <a onclick="javascript:grin(':smile:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_smile.gif" title="微笑" alt="微笑" /></a> <a onclick="javascript:grin(':oops:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_redface.gif" title="可爱" alt="可爱" /></a> <a onclick="javascript:grin(':grin:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_biggrin.gif" title="奸笑" alt="奸笑" /></a> <a onclick="javascript:grin(':eek:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_surprised.gif" title="震惊" alt="震惊" /></a> <a onclick="javascript:grin(':shock:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_eek.gif" title="吓到了" alt="吓到了" /></a> <a onclick="javascript:grin(':???:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_confused.gif" title="撇嘴" alt="撇嘴" /></a> <a onclick="javascript:grin(':cool:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_cool.gif" title="酷" alt="酷" /></a> <a onclick="javascript:grin(':lol:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_lol.gif" title="忍不住笑" alt="忍不住笑笑" /></a> <a onclick="javascript:grin(':mad:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_mad.gif" title="狂骂" alt="狂骂" /></a> <a onclick="javascript:grin(':twisted:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_twisted.gif" title="狂怒" alt="狂怒" /></a> <a onclick="javascript:grin(':roll:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_rolleyes.gif" title="噢？" alt="噢？" /></a> <a onclick="javascript:grin(':wink:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_wink.gif" title="鼓掌" alt="鼓掌" /></a> <a onclick="javascript:grin(':idea:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_idea.gif" title="贪" alt="贪" /></a> <a onclick="javascript:grin(':arrow:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_arrow.gif" title="⊙﹏⊙b汗" alt="⊙﹏⊙b汗" /></a> <a onclick="javascript:grin(':neutral:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_neutral.gif" title="亲亲" alt="亲亲" /></a> <a onclick="javascript:grin(':cry:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_cry.gif" title="大哭" alt="大哭" /></a> <a onclick="javascript:grin(':mrgreen:')"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_mrgreen.gif" title="嘿黑" alt="嘿黑" /></a> <br /></div><div id="editor_tools"><div id="fontcolor"><a href="javascript:SIMPALED.Editor.red()" style="background-color: red"></a><a href="javascript:SIMPALED.Editor.green()" style="background-color: green"></a><a href="javascript:SIMPALED.Editor.blue()" style="background-color: blue"></a><a href="javascript:SIMPALED.Editor.magenta()" style="background-color: magenta"></a><a href="javascript:SIMPALED.Editor.yellow()" style="background-color: yellow"></a><a href="javascript:SIMPALED.Editor.chocolate()" style="background-color: chocolate"></a><a href="javascript:SIMPALED.Editor.black()" style="background-color: black"></a><a href="javascript:SIMPALED.Editor.aquamarine()" style="background-color: aquamarine"></a><a href="javascript:SIMPALED.Editor.lime()" style="background-color: lime"></a><a href="javascript:SIMPALED.Editor.fuchsia()" style="background-color: fuchsia"></a><a href="javascript:SIMPALED.Editor.orange()" style="background-color: orange"></a><a href="javascript:SIMPALED.Editor.thistle()" style="background-color: thistle"></a><a href="javascript:SIMPALED.Editor.brown()" style="background-color: brown"></a><a href="javascript:SIMPALED.Editor.peru()" style="background-color: peru"></a><a href="javascript:SIMPALED.Editor.deeppink()" style="background-color: deeppink"></a><a href="javascript:SIMPALED.Editor.purple()" style="background-color: purple"></a><a href="javascript:SIMPALED.Editor.slategray()" style="background-color: slategray"></a><a href="javascript:SIMPALED.Editor.tomato()" style="background-color: tomato"></a></div><div id="editor"><a href="javascript:SIMPALED.Editor.daka()"><b>签到</b></a><a href="javascript:;" id="comment-smiley"><b>表情</b></a><a href="javascript:" id="font-color"><b>颜色</b></a><a href="javascript:SIMPALED.Editor.strong()"><b>粗体</b></a><a href="javascript:SIMPALED.Editor.em()"><b>斜体</b></a><a href="javascript:SIMPALED.Editor.quote()"><b>引用</b></a><a href="javascript:SIMPALED.Editor.ahref()"><b>插链接</b></a><a href="javascript:SIMPALED.Editor.code()"><b>插代码</b></a><a href="javascript:SIMPALED.Editor.img()"><b>插图片</b></a><a href="javascript:SIMPALED.Editor.underline()"><b>下划线</b></a><a href="javascript:SIMPALED.Editor.del()"><b>删除线</b></a><a class="refresh" href="javascript:void(0);" title="实时刷新本页评论，不受任何缓存影响！"><b>刷新评论</b></a></div></div> <p class="comment-tool"> <a class="refresh" id="backrefresh" href="javascript:void(0);" title="实时刷新本页评论，不受任何缓存影响！"><i class="icon-refresh"></i>刷新评论</a> </p> <div id="autosubmit"> <input type="checkbox" id="saveme" value="saveme" checked="checked"/> <label for="comment_mail_notify">记住我</label> </div> <p class="form-submit" style="display:none;"> <input id="submit" class="submit" name="submit" type="submit" tabindex="5" value="提交评论"/> <input type='hidden' name='comment_post_ID' value='5230' id='comment_post_ID' /><input type='hidden' name='comment_parent' id='comment_parent' value='0' /> </p> </form> <script type="text/javascript"> var Umail = decodeURIComponent(GetCookie('email')); var Uname = decodeURIComponent(GetCookie('author')); var Umail_md5 = ""; if ( Umail != "null" && Umail != "" && Umail != null ) { var Umail_md5 = hex_md5(Umail); } if( Umail_md5 != "" && Umail_md5 != null && Umail_md5 != "null") { jQuery(document).ready(function($){ jQuery('#comment-author-info').hide(); }); document.getElementById('author_info').innerHTML = "<div class='author_avatar'><img src='https://zhangge.net/avatar/"+Umail_md5+"s=48&amp;d=identicon&amp;r=G' width='32' height='32' alt='avatar' class='avatar avatar-32 wp-user-avatar wp-user-avatar-32 photo avatar-default'>欢迎 <b>"+Uname+"</b> 再次光临【<b><a href='javascript:toggleCommentAuthorInfo();' id='toggle-comment-author-info'>修改信息</a></b>】</div>"; var changeMsg = '修改信息'; var closeMsg = '关闭'; function toggleCommentAuthorInfo() { jQuery('#comment-author-info').slideToggle('slow', function(){ if ( jQuery('#comment-author-info').css('display') == 'none' ) { jQuery('#toggle-comment-author-info').text(changeMsg); } else { jQuery('#toggle-comment-author-info').text(closeMsg); } }); } } var gar_img = document.getElementById("real-time-gravatar"); var U_email = document.getElementById("email"); var textarea = document.getElementById("comment"); var KaK=navigator.userAgent.toLowerCase(); var chrome = KaK.indexOf('webkit') != -1; function changeGravatar(){ email_value = U_email.value; email_md5 = hex_md5(email_value); new_ga = "https://zhangge.net/avatar/" + email_md5 +"s=48&amp;d=identicon&amp;r=G"; newGravatar(new_ga); }; function newGravatar(new_ga){ gar_img.setAttribute('src', new_ga); }; if (chrome){ U_email.onblur = changeGravatar; } else { U_email.onchange = changeGravatar; }; textarea.onmouseover = changeGravatar; </script> </div> <style>#ua-info{display:none;}.comment-body:hover #ua-info{display:initial;}</style> <h2 class="comments-title" id="comments-statistics"> 目前评论：3 &nbsp;&nbsp;其中：访客&nbsp;&nbsp;3 &nbsp;&nbsp;博主&nbsp;&nbsp;0 </h2> <div class="clear"></div> <div class="clear"></div> <ol class="comment-list"> <div id="anchor"><div id="comment-11242"></div></div> <li class="comment even thread-even depth-1" id="comment-11242"> <div id="div-comment-11242" class="comment-body"> <div class="comment-author vcard"> <img src="https://zhangge.net/avatar/fbb9d6400dac9da1e1367b5e5f35a584?s=64&d=mm" class="avatar avatar-64" height="64" width="64"> <b><a href='https://zhangge.net/goto/aHR0cDovL3JlY29yZG1pbmQuY29t' rel='nofollow' target='_blank' class='url'>World</a> <a class="vip3" title="评论达人 VIP.3"><i class="fa fa-vimeo-square"></i><span class="lv">3</span></a> </b> <span id="ua-info"><span class="country-flag"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/flags/cn.png" title="来自天朝的朋友" alt="来自天朝的朋友" /></span> <span class="WB-OS"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/chrome.png" title="谷歌浏览器" alt="谷歌浏览器" /> <img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/windows_win7.png" title="Windows 7" alt="Windows 7" /> </span>广东省深圳市 电信</span><br /> <span class="comment-meta commentmetadata"> <a href="https://zhangge.net/5037.html/#comment-11242"></a> <span class="comment-aux"> <span class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zhangge.net/5037.html?replytocom=11242#respond' onclick='return addComment.moveForm( "div-comment-11242", "11242", "respond", "5230" )' aria-label='回复给World'>回复</a></span> 2015年04月30日 下午12:30 <!-- span class="floor"> &nbsp;-99楼 </span--> </span> </span> </div> <p>等到稳定性好了再考虑升级 <img src="https://res.zhangge.net/wp-content/themes/begin-child/img/smilies/icon_biggrin.gif" alt=":grin:" class="wp-smiley" style="/*height: 1em; max-height: 1em;*/" /></p> </div> </li><!-- #comment-## --> <div id="anchor"><div id="comment-11294"></div></div> <li class="comment odd alt thread-odd thread-alt depth-1" id="comment-11294"> <div id="div-comment-11294" class="comment-body"> <div class="comment-author vcard"> <img src="https://zhangge.net/avatar/0892ef21ee8509c4d2b66723ed198aee?s=64&d=mm" class="avatar avatar-64" height="64" width="64"> <b><a href='https://zhangge.net/goto/aHR0cDovL3hpYW5odW8ub3Jn' rel='nofollow' target='_blank' class='url'>鲜活</a> <a class="vip3" title="评论达人 VIP.3"><i class="fa fa-vimeo-square"></i><span class="lv">3</span></a> </b> <span id="ua-info"><span class="country-flag"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/flags/cn.png" title="来自天朝的朋友" alt="来自天朝的朋友" /></span> <span class="WB-OS"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/chrome.png" title="谷歌浏览器" alt="谷歌浏览器" /> <img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/windows_win8.png" title="Windows 8" alt="Windows 8" /> </span>广东省 电信</span><br /> <span class="comment-meta commentmetadata"> <a href="https://zhangge.net/5037.html/#comment-11294"></a> <span class="comment-aux"> <span class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zhangge.net/5037.html?replytocom=11294#respond' onclick='return addComment.moveForm( "div-comment-11294", "11294", "respond", "5230" )' aria-label='回复给鲜活'>回复</a></span> 2015年05月03日 下午10:49 <!-- span class="floor"> &nbsp;-98楼 </span--> </span> </span> </div> <p>继续再等等</p> </div> </li><!-- #comment-## --> <div id="anchor"><div id="comment-12866"></div></div> <li class="comment even thread-even depth-1" id="comment-12866"> <div id="div-comment-12866" class="comment-body"> <div class="comment-author vcard"> <img src="https://zhangge.net/avatar/cceb326c227574a41e7c12c7f9cefb9f?s=64&d=mm" class="avatar avatar-64" height="64" width="64"> <b><a href='https://zhangge.net/goto/aHR0cDovL3d3dy5iby1qaW4uY29t' rel='nofollow' target='_blank' class='url'>蓝染君</a> <a class="vip1" title="评论达人 VIP.1"><i class="fa fa-vimeo-square"></i><span class="lv">1</span></a> </b> <span id="ua-info"><span class="country-flag"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/flags/cn.png" title="来自天朝的朋友" alt="来自天朝的朋友" /></span> <span class="WB-OS"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/chrome.png" title="谷歌浏览器" alt="谷歌浏览器" /> <img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/show-useragent/browsers/windows_win7.png" title="Windows 7" alt="Windows 7" /> </span>山东省菏泽市单县 电信</span><br /> <span class="comment-meta commentmetadata"> <a href="https://zhangge.net/5037.html/#comment-12866"></a> <span class="comment-aux"> <span class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zhangge.net/5037.html?replytocom=12866#respond' onclick='return addComment.moveForm( "div-comment-12866", "12866", "respond", "5230" )' aria-label='回复给蓝染君'>回复</a></span> 2015年09月03日 下午5:09 <!-- span class="floor"> &nbsp;-97楼 </span--> </span> </span> </div> <p>已经编译安装了ngx_stream_core_module，就等你的教程啦，顺便也编译了stream_ssl_module</p> </div> </li><!-- #comment-## --> </ol><!-- .comment-list --> <div class="loading-comments"><img style="margin: 0 1px -3px 0;" src="//res.zhangge.net/wp-content/themes/begin-child/img/Loading.gif" />加载中,请稍候...</div> <div class="clear"></div> </div><!-- #comments --> </main><!-- .site-main --> </div><!-- .content-area --><div id="sidebar" class="widget-area"> <aside id="hot_post-4" class="widget widget_hot_post"><h3 class="widget-title"><i class="fa fa-bars"></i>大家都在看</h3><div id="hot_post_widget"> <ul> <li><span class='li-icon li-icon-1'>1</span><a href="https://zhangge.net/5076.html">升级Nginx1.9.5以上版本，开启博客网站http2.0时代</a></li><li><span class='li-icon li-icon-2'>2</span><a href="https://zhangge.net/5075.html">PHP7.0正式版编译安装升级及WordPress问题解决分享</a></li><li><span class='li-icon li-icon-3'>3</span><a href="https://zhangge.net/5084.html">WordPress针对百度星火计划2.0原创保护的优化措施</a></li><li><span class='li-icon li-icon-4'>4</span><a href="https://zhangge.net/5083.html">利用JS生成二维码图片，优化WEB性能及页面加载速度</a></li><li><span class='li-icon li-icon-5'>5</span><a href="https://zhangge.net/5086.html">分享最近对网站外链跳转页面代码的一些改善</a></li><li><span class='li-icon li-icon-6'>6</span><a href="https://zhangge.net/5078.html">分享一个支持https的CDN及启用SSL后续问题汇总</a></li><li><span class='li-icon li-icon-7'>7</span><a href="https://zhangge.net/5085.html">浅析网站更换ip或使用CDN会不会影响SEO排名</a></li><li><span class='li-icon li-icon-8'>8</span><a href="https://zhangge.net/5079.html">全站启用SSL之后，如何兼容不支持https抓取的搜索引擎？</a></li> </ul></div><div class="clear"></div></aside><aside id="hot_comment-3" class="widget widget_hot_comment"><h3 class="widget-title"><i class="fa fa-bars"></i>大家都在说</h3><div id="hot_comment_widget"> <ul> <li><span class='li-icon li-icon-1'>1</span><a href= "https://zhangge.net/5080.html" rel="bookmark" title=" (66条评论)" >关于博客文章是否过于絮叨的思考</a></li><li><span class='li-icon li-icon-2'>2</span><a href= "https://zhangge.net/5086.html" rel="bookmark" title=" (47条评论)" >分享最近对网站外链跳转页面代码的一些改善</a></li><li><span class='li-icon li-icon-3'>3</span><a href= "https://zhangge.net/5084.html" rel="bookmark" title=" (47条评论)" >WordPress针对百度星火计划2.0原创保护的优化措施</a></li><li><span class='li-icon li-icon-4'>4</span><a href= "https://zhangge.net/5082.html" rel="bookmark" title=" (35条评论)" >WordPress发布文章同步到新浪微博失败的问题解决与分享</a></li><li><span class='li-icon li-icon-5'>5</span><a href= "https://zhangge.net/5078.html" rel="bookmark" title=" (33条评论)" >分享一个支持https的CDN及启用SSL后续问题汇总</a></li><li><span class='li-icon li-icon-6'>6</span><a href= "https://zhangge.net/5087.html" rel="bookmark" title=" (33条评论)" >解决IE响应式的解决方案css3-mediaqueries.js不生效问题</a></li><li><span class='li-icon li-icon-7'>7</span><a href= "https://zhangge.net/5083.html" rel="bookmark" title=" (28条评论)" >利用JS生成二维码图片，优化WEB性能及页面加载速度</a></li><li><span class='li-icon li-icon-8'>8</span><a href= "https://zhangge.net/5075.html" rel="bookmark" title=" (25条评论)" >PHP7.0正式版编译安装升级及WordPress问题解决分享</a></li> </ul></div><div class="clear"></div></aside> <div class="sidebar-roll"> <aside id="feed_diy-3" class="widget widget_feed_diy"><h3 class="widget-title"><i class="fa fa-bars"></i>关注张戈</h3><div id="feed_widget"> <ul> <li class="weixin"><a class="cboxElement" href="https://res.zhangge.net/wp-content/uploads/2014/06/wxgzh.jpg" alt="" title="" rel="example_group" 4586=""><i class="fa fa-weixin"></i></a></li> <li class="feed"><a title="订阅" href="https://list.qq.com/cgi-bin/qf_invite?id=71a2f28dff63348c301ded982b0a083857be253891e9bae8" target="_blank" rel="nofollow"><i class="fa fa-rss"></i></a></li> <li class="tsina"><a title="新浪微博" href="https://weibo.com/imarsge/" target="_blank" rel="nofollow"><i class="fa fa-weibo"></i></a></li> <li class="tqq"><a title="腾讯微博" href="http://t.qq.com/imarsge/" target="_blank" rel="nofollow"><i class="fa fa-tencent-weibo"></i></a></li> </ul> <div id="weixin-img"> <div class="weixin-img"><img style="width:300px;height:300px;"src="https://res.zhangge.net/wp-content/uploads/files/wxgzh.png" /></div> </div></div><div class="clear"></div></aside><aside id="text-11" class="widget widget_text"> <div class="textwidget"><a href="https://zhangge.net/goto/ershixiong" target="_blank"><img src="https://res.zhangge.net/wp-content/uploads/files/esx.jpg"></a></div> <div class="clear"></div></aside><aside id="random_post-3" class="widget widget_random_post"><h3 class="widget-title"><i class="fa fa-bars"></i>随便挑了些，看你喜欢嘛</h3><div id="random_post_widget"> <ul> <li><a href="https://zhangge.net/4938.html" rel="bookmark">利用placeholder属性来添加输入框默认文字提示，提高用户体验</a></li> <li><a href="https://zhangge.net/4756.html" rel="bookmark">原创插件：WordPress读者排行榜插件WP Readers Ranking</a></li> <li><a href="https://zhangge.net/2438.html" rel="bookmark">百度作证，博主小学时代就开始写博客了&#8230;</a></li> <li><a href="https://zhangge.net/131.html" rel="bookmark">抓取占用CPU高的JAVA线程，进而找出有问题的WEB页面</a></li> <li><a href="https://zhangge.net/1357.html" rel="bookmark">红旗Linux开发商中科红旗倒闭</a></li> <li><a href="https://zhangge.net/646.html" rel="bookmark">免插件实现WordPress的Sitemap功能</a></li> <li><a href="https://zhangge.net/1225.html" rel="bookmark">运维人员：走好你的IT运维路</a></li> <li><a href="https://zhangge.net/4750.html" rel="bookmark">原创插件：中国博客联盟WordPress插件更新至1.2.2版本</a></li> </ul></div><div class="clear"></div></aside> </div> </div><div class="clear"></div> <div class="clear"></div> </div><!-- .site-content --> <div id="footer-widget-box"> <div class="footer-widget"> <aside id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title"><div class="s-icon"></div>更多精彩</h3><div class="menu-%e9%a1%b5%e8%84%9a%e5%af%bc%e8%88%aa-container"><ul id="menu-%e9%a1%b5%e8%84%9a%e5%af%bc%e8%88%aa" class="menu"><li id="menu-item-5556" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-5556"><a target="_blank" href="https://zhangge.net/op/"><i class="fa-windows fa"></i><span class="font-text">系统运维</span></a></li><li id="menu-item-5557" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5557"><a target="_blank" href="https://zhangge.net/script/"><i class="fa-code fa"></i><span class="font-text">脚本编程</span></a></li><li id="menu-item-5555" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5555"><a target="_blank" href="https://zhangge.net/website/"><i class="fa-wordpress fa"></i><span class="font-text">博客建设</span></a></li><li id="menu-item-5558" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5558"><a target="_blank" href="https://zhangge.net/resources/"><i class="fa-share-alt-square fa"></i><span class="font-text">资源分享</span></a></li><li id="menu-item-4419" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4419"><a target="_blank" rel="nofollow" href="https://zhangge.net/archives.html"><i class="fa-list-alt fa"></i><span class="font-text">文章归档</span></a></li><li id="menu-item-5217" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5217"><a target="_blank" rel="nofollow" href="https://zhangge.net/roll.html"><i class="fa-random fa"></i><span class="font-text">随便看看</span></a></li></ul></div><div class="clear"></div></aside><aside id="text-10" class="widget widget_text"><h3 class="widget-title"><div class="s-icon"></div>关于博客</h3> <div class="textwidget">张戈博客是关注互联网以及分享IT运维工作经验的个人博客，由系统运维、脚本编程以及资源分享等分类组成，涵盖了操作系统教程、运维经验、脚本语言以及网络资源等。</div> <div class="clear"></div></aside> <div class="clear"></div> </div> </div> <footer id="colophon" class="site-footer" role="contentinfo"> <div class="site-info"> 托管于阿里云 &amp; <a title="由腾讯云CDN提供高速缓存服务" href="https://zhangge.net/goto/qcloud" target="_blank" rel="nofollow">腾讯云</a> · <a title="Dmoz：全球开放式分类目录。" href="https://zhangge.net/goto/dmoz" target="_blank" rel="nofollow">DMOZ</a> 已收录 · 博客稳定运行 <span id="run_time" style="color: #0196e3;"></span> ·<span style="line-height: 1.8;"> </span><script src="https://s96.cnzz.com/z_stat.php?id=1000269993&amp;web_id=1000269993"></script> <span class="add-info"> Copyright © 2013-2015 <a title="张戈欢迎您的来访,希望您再次光临！" href="https://zhangge.net" target="_blank">张戈博客</a> 保留所有权利. 粤ICP备14028310号-2 </span> </div><!-- .site-info --> </footer><!-- .site-footer --> <script>with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='https://o1r3y2z3i.qnssl.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script><script type='text/javascript' src='https://dn-zhangge.qbox.me/wp-content/themes/begin-child/diy/wp-dialog/Dialog.js?ver=1.2.6.1'></script><script type='text/javascript' src='https://res.zhangge.net/wp-content/themes/begin-child/js/custom.js?ver=2015.02.04'></script><script type="text/javascript">/* <![CDATA[ */var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/zhangge.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};/* ]]>*/
</script>
<script type="text/javascript" src="https://zhangge.net/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta"></script>
<link rel="stylesheet" id="crayon-css" href="https://zhangge.net/wp-content/themes/begin-child/css/crayon.all.css?ver=20150806" type="text/css" media="all" /><script type='text/javascript' src="https://cdn.bootcss.com/jquery.qrcode/1.0/jquery.qrcode.min.js"></script><script type='text/javascript' src="https://dn-zhangge.qbox.me/wp-content/themes/begin/js/scrollmonitor.js"></script><ul id="scroll"> <li><a class="scroll-t" title="返回顶部"><i class="fa fa-angle-up"></i></a></li> <li><a class="scroll-c" title="评论"><i class="fa fa-comment-o"></i></a></li> <li><a class="qr" title="二维码"><i class="fa fa-qrcode"></i></a></li> <li><a name="gb2big5" id="gb2big5" href="javascript:StranBody()" title="繁體"><span>繁</span></a></li> <li><a class="scroll-b" title="转到底部"><i class="fa fa-angle-down"></i></a></li></ul> <style>.qr-img td { border: none;padding: 0;}</style> <span class="qr-img"> <img class="alignnone" src="https://res.zhangge.net/favicon.ico" style="position: absolute;top: 75px;right: 75px;width: 30px;height: 30px;"> <div id="qr-img"></div> <div id="floatbtn-qr-msg">手机扫一扫 精彩随身带</div> </span> <script type="text/javascript"> if(!+[1,]){ Render = "table"; } else { Render = "canvas"; } $('#qr-img').qrcode({width:150,height:150,render:Render,correctLevel:0,text:window.location.href}); </script><script type='text/javascript' src='https://dn-zhangge.qbox.me/wp-content/themes/begin-child/js/gb2big5.js'></script><script type="text/javascript">setInterval(formatTime, 1000);</script><link rel="stylesheet" href="https://dn-zhangge.qbox.me/wp-content/themes/begin-child/diy/wp-dialog/skins/default.css?ver=1.2.5.4" /><script type="text/javascript">var myQaptchaJqueryPage="/wp-content/themes/begin-child/diy/myqaptcha/jquery/myQaptcha.jquery.php";</script><script type="text/javascript"> var newQapTcha = document.createElement("div"); newQapTcha.className="QapTcha"; var tagIDComment=document.getElementById("autosubmit"); if(tagIDComment){ tagIDComment.parentNode.insertBefore(newQapTcha,tagIDComment); }else{ var allTagP = document.getElementsByTagName("p"); for(var p=0;p<allTagP.length;p++){ var allTagTA = allTagP[p].getElementsByTagName("textarea"); if(allTagTA.length>0){allTagP[p].parentNode.insertBefore(newQapTcha,allTagP[p]);}}} jQuery(document).ready(function(){jQuery('.QapTcha').QapTcha({disabledSubmit:true,autoRevert:true}); }); </script><script type='text/javascript' src='https://zhangge.net/wp-content/themes/begin/js/superfish.js?ver=2015.11.24'></script><div id="gg"> <div class="close"><a href="javascript:void(0)" onclick="$('#gg').slideUp('slow');" title="关闭">×</a> <div id="feedb"><a href="https://list.qq.com/cgi-bin/qf_invite?id=71a2f28dff63348c301ded982b0a083857be253891e9bae8" rel="nofollow" target="_blank" title="欢迎使用QQ邮箱订阅张戈博客" class="image"><img alt="订阅图标按钮" src="https://res.zhangge.net/wp-content/themes/begin-child/img/feed.gif" style="width:23px;height:23px;" /></a> <a id="refresh" style="cursor:pointer;" title="手动刷新本页评论和阅读数"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/cleanup.png" style="height: 21px;width: 21px;margin-top: 1px;"/></a> <a title="亲，点我放松一下吧~！(单击启动，双击或ESC停止)" id="hig" href="javascript:void(0);" onclick="hig();" ondblclick="stopCrazy();"><img src="https://res.zhangge.net/wp-content/themes/begin-child/img/crazy.png" style="height:23px;width:22px;margin: -1px 0 0 0"></a> <a href="javascript:void(0)" onclick="deleteCookie('welcome');welcome();" title="呼出欢迎对话框"><img src="https://res.zhangge.net/wp-content/themes/begin-child/diy/wp-dialog/skins/icons/face-happy.png" style="width:23px;height:23px;"></a> </div> <div class="rand_post"> <ul> <li><a href="https://zhangge.net/976.html" target="_blank" title="细看 Windows7临时桌面配置修复补丁"> 随机推荐：《Windows7临时桌面配置修复补丁》( 阅读1,224次 |</a><a href="https://zhangge.net/976.html#respond">坐等沙发</a>)</li> <li><a href="https://zhangge.net/3264.html" target="_blank" title="细看 详解Linux系统的CPU负载均值"> 随机推荐：《详解Linux系统的CPU负载均值》( 阅读1,135次 |</a><a href="https://zhangge.net/3264.html#comments">15条评论</a>)</li> <li><a href="https://zhangge.net/3615.html" target="_blank" title="细看 仿异次元百度分享工具条张戈修改版"> 随机推荐：《仿异次元百度分享工具条张戈修改版》( 阅读1,786次 |</a><a href="https://zhangge.net/3615.html#comments">108条评论</a>)</li> <li><a href="https://zhangge.net/1412.html" target="_blank" title="细看 给XFN链接关系加上“nofollow”选项"> 随机推荐：《给XFN链接关系加上“nofollow”选项》( 阅读355次 |</a><a href="https://zhangge.net/1412.html#comments">23条评论</a>)</li> <li><a href="https://zhangge.net/2699.html" target="_blank" title="细看 互推联盟最新自适应iframe代码，欢迎调用！"> 随机推荐：《互推联盟最新自适应iframe代码，欢迎调用！》( 阅读549次 |</a><a href="https://zhangge.net/2699.html#comments">73条评论</a>)</li> </ul> </div></div></div><script type="text/javascript">var cache = null;var post_id = '5037';var page_type = 'single';var page_slug = 'null';var page_url = 'https://zhangge.net/5037.html';var page_name = 'cache_5230';var hicss="https://res.zhangge.net/wp-content/themes/begin-child/css/hi.css";var CrazyMusic=["https://dn-zgboke.qbox.me/music/xiaopingguo.mp3","https://dn-zgboke.qbox.me/music/NOBODY.mp3","https://dn-zgboke.qbox.me/music/Arale.mp3","https://dn-zgboke.qbox.me/music/jnStyle.mp3","https://dn-zgboke.qbox.me/music/Gentleman.mp3"];</script><script id="wel_setcookies"></script></body></html>