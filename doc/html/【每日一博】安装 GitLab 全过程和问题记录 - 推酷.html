<!DOCTYPE HTML>

<!--
 ______________ 
< TUICOOL.COM >
 -------------- 
        \   ^__^
         \  (**)\__$__$__
            (__)\       )\/\
             U  ||------|
                ||     ||
-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="authenticity_token" name="csrf-param" />
<meta content="TquC01VIp3hPB+CA4Hx+0I/iobgPd/rJH4uCAtfR83o=" name="csrf-token" />
    <title>
            【每日一博】安装 GitLab 全过程和问题记录 - 推酷
   </title>
    <meta name="description" content="【每日一博】安装 GitLab 全过程和问题记录"/>
  <link rel="shortcut icon" href="http://static0.tuicool.com/favicon.ico" type="image/x-icon" />
  <link href="http://asset.tuicool.com/assets/application-0d4e8cad524c6308f5082fe6be9560f8.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  <script src="http://asset.tuicool.com/assets/application-5272668a8ed427c5225cac7c6110da64.js" type="text/javascript"></script>

  <!--[if IE 7]>
  <link rel="stylesheet" href="http://assets.tuicool.com/assets/font-awesome-ie7.min.css">
  <![endif]--> 
    <script type="text/javascript" src="http://static2.tuicool.com/assets/tip.js?t=3"></script>
  
  <script type="text/javascript" src="http://cbjs.baidu.com/js/m.js"></script>
<script src="http://dup.baidustatic.com/js/ds.js"></script>
<script type="text/javascript" src="http://static1.tuicool.com/assets/spin.min.js"></script>
<link rel="stylesheet" href="http://static0.tuicool.com/assets/github.css">

</head>
<body>
  
  <div id="header" class="navbar-fixed-top">
    <div class="container">
      <div class="navbar">
        <div class="navbar-inner">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> 
            <span class="icon-bar"></span> 
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
          </a>
          <a href="http://www.tuicool.com/" class="brand">推酷</a>        
        <nav class="nav-collapse collapse">
            <ul class="nav navbar primary-nav">                            
              <li class="active">
                <a href="http://www.tuicool.com/ah">
                  文章
                </a>
              </li>              
              <li class="">
                <a href="http://www.tuicool.com/sites/hot">
                  站点
                </a>
              </li>
              <li class="">
                <a href="http://www.tuicool.com/topics">
                  主题
                </a>
              </li>
              <li class="">
                <a href="http://course.tuicool.com/">
                  公开课
                </a>
              </li>
              <li class="">
                <a href="http://huodong.tuicool.com/">
                  活动
                </a>
              </li>
              <li class="">
                <a href="http://www.tuicool.com/mobile">
                  客户端
                    <sup style="font-size:0.8em;color: #16A085;">荐</sup>
                </a>
              </li>
              <li class="dropdown  ">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">周刊 <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.tuicool.com/mags">编程狂人</a></li>
                  <li><a href="http://www.tuicool.com/mags/design">设计匠艺</a></li> 
                  <li><a href="http://www.tuicool.com/articles/weekly">一周拾遗</a></li>                  
                </ul>
              </li>
              
               <li class="dropdown  ">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">更多 <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.tuicool.com/bbs">讨论区</a></li>  
                  <li><a href="http://www.tuicool.com/about">关于我们</a></li>                 
                </ul>
              </li>
              
              </ul>
            <form class="navbar-search pull-left" action="http://www.tuicool.com/search">
              <input type="text" class="search-query span2" name="kw" placeholder="搜索">
            </form>
            <ul class="nav pull-right">
                <li><a href="http://www.tuicool.com/login">登录</a></li>
            </ul>
          </nav>
        </div>
      </div>
  </div>   
</div>
  <div id ="flash_container" class="noPrint">    
  </div>
  
  <div class="container-fluid">  
    <div class="row-fluid article_row_fluid">
    <div class="span8 contant article_detail_bg">
        <h1>【每日一博】安装 GitLab 全过程和问题记录</h1>
        <div class="article_meta">
            <div style="margin-bottom: 5px;">
            <span class="timestamp">时间&nbsp;2014-05-10 07:56:45
            </span>
            <span class="from">
                <i class="icon-globe"></i>
                    <a class="cut cut28 from" href="/sites/JNzQre" target="_blank">开源中国新闻
                    </a>
            </span>
            </div>
            <div class="source">
                <i style="float:left;">原文</i>&nbsp; 
                <a class="cut cut70" href="http://my.oschina.net/wzlee/blog/262181?utm_source=tuicool" style="display:inline-block;">http://my.oschina.net/wzlee/blog/262181</a>
            </div>
            <div>
                <span>主题</span>
                <a href="/topics/11110179" target='_blank' >
                    <span class="new-label">GitLab</span>
                </a>
                <a href="/topics/11000069" target='_blank' >
                    <span class="new-label">Linux</span>
                </a>
            </div>
        </div>
        <div class="article_body" id="nei">
            <div>
  <p>
    <span>安装的英文文档：</span>
    <a href="http://www.01happy.com/wp-content/uploads/2013/12/centos-6-5-install-gitlab.zip" rel="nofollow,noindex">centos-6-5-install-gitlab.zip</a>
  </p>
  <p>先秀下安装完成后的成果。</p>
  <div>
    <p>
      <img src="http://img1.tuicool.com/7VbUza.png" alt="centos安装gitlab成果" title="centos安装gitlab成果" />
    </p>
    <p>centos安装gitlab成果</p>
  </div>
  <p>
    <strong>开始之前</strong>
  </p>
  <p>在开始之前请先查看官方的刚需文档： https://github.com/gitlabhq/gitlabhq/blob/master/doc/install/requirements.md ，该文档说明了系统，软件和硬件等各方面的需求。详细的了解这些，可以避免碰到很多怪异的问题。</p>
  <p>
    <strong>安装步骤总览</strong>
  </p>
  <ul>
    <li>基础操作系统（CentOS 6.4 Minimal，升级后为6.5）</li>
    <li>Ruby （版本： 2.0.0p353）</li>
    <li>创建项目运行用户（创建git账号，方便权限管理）</li>
    <li>GitLab Shell（版本：1.8.0）</li>
    <li>数据库（可以支持mysql和PostgreSQL，这里使用mysql，版本：5.1.17）</li>
    <li>GitLab（版本：6.3.1）</li>
    <li>Web服务器（可支持nginx和apache，这里使用nginx，版本：1.0.15）</li>
    <li>防火墙（iptables）</li>
  </ul>
  <p>
    <strong>1、安装操作系统</strong>
  </p>
  <p>这个比较简单，安装完成之后记的配置下网络，使其可以在启动时自动连接。而后需要升级系统和安装一些相应的软件和依赖包，以下逐一说明。</p>
  <p>Tips：如果不能连接国外的网络，经常出现网络错误或者couldn’t not resolve host这样的错误，建议修改dns服务器为8.8.8.8和8.8.4.4。</p>
  <p>
    <strong>a、升级操作系统和安装wget</strong>
  </p>
  <pre class="prettyprint">$ sudo yum -y update
$ sudo yum -y install wget</pre>
  <p>升级完成后，系统版本是6.5。</p>
  <p>笔者注：和英文文档不同，笔者这里是先升级系统和安装wget，不然后面的操作会提示wget命令找到。</p>
  <p>
    <strong>b、增加EPEL安装源</strong>
  </p>
  <p>EPEL，即Extra Packages for Enterprise Linux，这个软件仓库里有很多非常常用的软件,而且是专门针对RHEL设计的，对RHEL标准yum源是一个很好的补充，完全免费使用，由Fedora项目维护，所以如果你使用的是RHEL，或者CentOS，Scientific等RHEL系的linux，可以非常放心的使用EPEL的yum源。</p>
  <p>下载并安装GPG key</p>
  <pre class="prettyprint">$ sudo wget -O /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6 https://www.fedoraproject.org/static/0608B895.txt
$ sudo rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6</pre>
  <p>检验下是否安装成功</p>
  <pre class="prettyprint">$ sudo rpm -qa gpg*</pre>
  <p>安装epel-release-6-8.noarch包</p>
  <pre class="prettyprint">$ sudo rpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</pre>
  <p>提示：不要在意x86_64，在i686的机器上一样能使用。</p>
  <p>
    <strong>c、增加PUIAS安装源</strong>
  </p>
  <p>PUIAS Linux是面向桌面和服务器的完整的操作系统，它靠编译Red Hat Enterprise Linux的源代码包来创建。除了这些上游的软件包外，该项目还提供一些其他的软件仓库：“Addons”包含了通常的Red Hat发行中未收入的额外软件包，“Computational”提供专门针对科学计算的软件，“Unsupported”则收入各种各样的测试性软件 包。该发行由美国普林斯顿 大学的高等研究所维护。</p>
  <p>创建/etc/yum.repos.d/PUIAS_6_computational.repo，并添加如下内容：</p>
  <pre class="prettyprint">[PUIAS_6_computational]
name=PUIAS computational Base $releasever - $basearch
mirrorlist=http://puias.math.ias.edu/data/puias/computational/$releasever/$basearch/mirrorlist
#baseurl=http://puias.math.ias.edu/data/puias/computational/$releasever/$basearch
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-puias</pre>
  <p>下载并安装GPG key</p>
  <pre class="prettyprint">$ sudo wget -O /etc/pki/rpm-gpg/RPM-GPG-KEY-puias http://springdale.math.ias.edu/data/puias/6/x86_64/os/RPM-GPG-KEY-puias
$ sudo rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-puias</pre>
  <p>检验下是否安装成功</p>
  <pre class="prettyprint">$ sudo rpm -qa gpg*</pre>
  <p>Tips：安装完EPEL和PUIAS两个源后，可以检测下：</p>
  <pre class="prettyprint">$ sudo yum repolist</pre>
  <p>
    <strong>d、安装GitLab的所需依赖包和工具</strong>
  </p>
  <pre class="prettyprint">$ su -
$ yum -y groupinstall 'Development Tools'
$ yum -y install vim-enhanced readline readline-devel ncurses-devel gdbm-devel glibc-devel tcl-devel openssl-devel curl-devel expat-devel db4-devel byacc sqlite-devel gcc-c++ libyaml libyaml-devel libffi libffi-devel libxml2 libxml2-devel libxslt libxslt-devel libicu libicu-devel system-config-firewall-tui python-devel redis sudo wget crontabs logwatch logrotate perl-Time-HiRes git</pre>
  <p>
    RHEL提示    <br/>
    如果部分包不能安装，例如： eg. gdbm-devel, libffi-devel and libicu-devel，那么增加rhel6的安装源。  </p>
  <pre class="prettyprint">$ yum-config-manager --enable rhel-6-server-optional-rpms</pre>
  <p>
    <strong>e、配置redis</strong>
  </p>
  <p>配置redis使其在开机时启动：</p>
  <pre class="prettyprint">$ sudo chkconfig redis on
$ sudo service redis start</pre>
  <p>
    <strong>f、配置邮件服务器</strong>
  </p>
  <p>笔者注：这个过程笔者没有配置，请参考英文文档。</p>
  <p>
    <strong>2、安装Ruby</strong>
  </p>
  <p>下载并编译：</p>
  <pre class="prettyprint">$ su -
$ mkdir /tmp/ruby && cd /tmp/ruby
$ curl --progress ftp://ftp.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p353.tar.gz | tar xz
$ cd ruby-2.0.0-p353
$ ./configure --prefix=/usr/local/
$ make && make install</pre>
  <p>安装完成后，重新登录终端确保$PATH生效，检测ruby的安装成功与否：</p>
  <pre class="prettyprint">$ which ruby
/usr/local/bin/ruby
$ ruby -v
ruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-linux]</pre>
  <p>安装bundle：</p>
  <pre class="prettyprint">$ sudo gem install bundler --no-ri --no-rdoc</pre>
  <p>如果提示sudo: gem: command not found，使用root账号登录执行该命令即可。</p>
  <p>
    <strong>3、系统用户</strong>
  </p>
  <p>创建用户git</p>
  <pre class="prettyprint">$ su -
$ adduser --system --shell /bin/bash --comment 'GitLab' --create-home --home-dir /home/git/ git</pre>
  <p>因为git用户不需要登录，所以这里不需要设置git的密码。</p>
  <p>转发所有邮件</p>
  <p>笔者注：因为上面没有配置发送邮件，这里也省略。</p>
  <p>
    <strong>4、配置GitLab shell</strong>
  </p>
  <p>GitLab shell是专门为GitLab开发的提供ssh访问和版本管理的软件。</p>
  <p>先使用root登录，而后切换成git</p>
  <pre class="prettyprint">$ su -
$ su - git</pre>
  <p>克隆gitlab shell</p>
  <pre class="prettyprint">$ git clone https://github.com/gitlabhq/gitlab-shell.git
$ cd gitlab-shell</pre>
  <p>切换成1.8.0版本，并编辑配置</p>
  <pre class="prettyprint">$ git checkout v1.8.0
$ cp config.yml.example config.yml</pre>
  <p>这里最重要的是将gitlab_url修改成gitlab的访问域名。形如：http://test.gitlab.com/</p>
  <p>笔者注：如果gitlab是使用https访问，则需将http替换成https，配置文件中的self_signed_cert要修改成true，否则gitlab shell在通过api和gitlab进行通信的时候就会出现错误，导致项目push出错。因为后面配置web服务器的时候是使用ssl，所以这里要按照ssl的方式配置。</p>
  <p>Tips: 另外如果使用的域名是测试域名，不要忘记在系统的/etc/hosts做域名映射。</p>
  <p>安装一些需要的目录和文件</p>
  <pre class="prettyprint">$ ./bin/install</pre>
  <p>
    <strong>5、安装数据库</strong>
  </p>
  <p>笔者这里使用的是msyql，关于PostgreSQL的安装请参考原文档。</p>
  <p>安装mysql并设置开机启动：</p>
  <pre class="prettyprint">$ su -
$ yum install -y mysql-server mysql-devel
$ chkconfig mysqld on
$ service mysqld start</pre>
  <p>设置mysql root账号的密码：</p>
  <pre class="prettyprint">$ /usr/bin/mysql_secure_installation</pre>
  <p>创建新用户和数据库给gitlab使用</p>
  <pre class="prettyprint"># 登录数据库
$ mysql -u root -p
# 输入root密码
# 为gitlab创建使用用户
CREATE USER 'gitlab'@'localhost' IDENTIFIED BY 'gitlab账号的密码';

# 创建gitlaba使用的数据库
CREATE DATABASE IF NOT EXISTS `gitlabhq_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;

# 给予gitlab用户权限
GRANT SELECT, LOCK TABLES, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `gitlabhq_production`.* TO 'gitlab'@'localhost';

# 登出数据库
\q</pre>
  <p>
    <strong>6、安装GitLab</strong>
  </p>
  <p>将GitLab安装在git的家目录下：</p>
  <pre class="prettyprint">$ su -
$ su - git</pre>
  <p>
    <strong>a、克隆GitLab并切换分支到6-3-stable</strong>
  </p>
  <pre class="prettyprint"># 克隆GitLab
$ git clone https://github.com/gitlabhq/gitlabhq.git gitlab
# 进入gitlab目录
$ cd /home/git/gitlab
# 切换到6-3-stable分支
$ git checkout 6-3-stable</pre>
  <p>
    <strong>b、配置项目</strong>
  </p>
  <pre class="prettyprint"># 复制配置文件
$ cp config/gitlab.yml.example config/gitlab.yml

# 修改配置文件中的访问域名
（your_domain_name为项目的访问域名）
$ sed -i 's|localhost|your_domain_name|g' config/gitlab.yml

# 设定log和tmp目录所有者和权限
$ chown -R git log/
$ chown -R git tmp/
$ chmod -R u+rwX log/
$ chmod -R u+rwX tmp/

# 创建gitlab-satellites目录
$ mkdir /home/git/gitlab-satellites

# 创建tmp/pids/和tmp/sockets/目录，确保gitlab有相应的权限
$ mkdir tmp/pids/
$ mkdir tmp/sockets/
$ chmod -R u+rwX tmp/pids/
$ chmod -R u+rwX tmp/sockets/

# 创建public/uploads目录
$ mkdir public/uploads
$ chmod -R u+rwX public/uploads

# 复制unicorn配置
$ cp config/unicorn.rb.example config/unicorn.rb

# 编辑unicorn配置
（笔者这里采用默认配置）
$ vim config/unicorn.rb

# 配置git的用户和邮件
$ git config --global user.name &quot;GitLab&quot;
$ git config --global user.email &quot;gitlab@your_domain_name&quot;
$ git config --global core.autocrlf input</pre>
  <p>这边的配置比较复杂，细心些就行了。</p>
  <p>
    <strong>c、配置数据库访问文件</strong>
  </p>
  <pre class="prettyprint">$ cp config/database.yml.mysql config/database.yml</pre>
  <p>编辑config/database.yml，设置其中连接数据库的账号密码，笔者的配置部分如下：</p>
  <pre class="prettyprint">#
# PRODUCTION
#
production:
  adapter: mysql2
  encoding: utf8
  reconnect: false
  database: gitlabhq_production
  pool: 10
  username: gitlab
  password: &quot;gitlab&quot;
  # host: localhost
  # socket: /tmp/mysql.sock</pre>
  <p>修改其中username和password就可以了，其中密码就是上面数据库步骤中创建gitlab用户的密码。</p>
  <p>确保该文件只有git账号有权限读取。</p>
  <pre class="prettyprint">$ chmod o-rwx config/database.yml</pre>
  <p>
    <strong>d、安装Gems</strong>
  </p>
  <pre class="prettyprint">$ su -
$ gem install charlock_holmes --version '0.6.9.4'
$ exit</pre>
  <p>安装mysql包</p>
  <pre class="prettyprint">$ cd /home/git/gitlab/
$ bundle install --deployment --without development test postgres puma aws</pre>
  <p>
    <strong>e、初始化数据和激活高级功能</strong>
  </p>
  <pre class="prettyprint">$ cd /home/git/gitlab
$ bundle exec rake gitlab:setup RAILS_ENV=production</pre>
  <p>这步完成后，会生一个默认的管理员账号：</p>
  <pre class="prettyprint">admin@local.host
5iveL!fe</pre>
  <p>
    <strong>f、安装启动脚本</strong>
  </p>
  <pre class="prettyprint">$ su -
$ wget -O /etc/init.d/gitlab https://raw.github.com/gitlabhq/gitlab-recipes/master/init/sysvinit/centos/gitlab-unicorn
$ chmod +x /etc/init.d/gitlab
$ chkconfig --add gitlab</pre>
  <p>开机时启动</p>
  <pre class="prettyprint">$ chkconfig gitlab on</pre>
  <p>
    <strong>g、检测应用程序状态</strong>
  </p>
  <pre class="prettyprint">$ su - git
$ cd gitlab/
$ bundle exec rake gitlab:env:info RAILS_ENV=production
$ exit</pre>
  <p>可以查看到系统、Ruby、GitLab和GitLab Shell的版本和其他信息。</p>
  <p>启动GitLab实例</p>
  <pre class="prettyprint">$ service gitlab start</pre>
  <p>
    <strong>h、查看应用更加详细的信息</strong>
  </p>
  <pre class="prettyprint">$ su - git
$ cd gitlab/
$ bundle exec rake gitlab:check RAILS_ENV=production</pre>
  <p>这里会提示一个Init script up-to-date的错误，如下：</p>
  <pre class="prettyprint">Init script up-to-date? ... no
Try fixing it:
Redownload the init script
For more information see:
doc/install/installation.md in section &quot;Install Init Script&quot;
Please fix the error above and rerun the checks.</pre>
  <p>原文说明不用介意这个问题。</p>
  <p>
    <strong>7、安装web服务器</strong>
  </p>
  <p>笔者选择的是nginx，关于apache方面的请参考原文档</p>
  <pre class="prettyprint">$ su -
$ yum -y install nginx
$ chkconfig nginx on
$ mkdir /etc/nginx/sites-available
$ mkdir /etc/nginx/sites-enabled
$ wget -O /etc/nginx/sites-available/gitlab https://raw.github.com/gitlabhq/gitlab-recipes/master/web-server/nginx/gitlab-ssl
$ ln -sf /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/gitlab</pre>
  <p>编辑/etc/nginx/nginx.conf，将 include /etc/nginx/conf.d/*.conf; 替换成 include /etc/nginx/sites-enabled/*;，就是修改额外加载的配置文件目录。</p>
  <p>编辑/etc/nginx/sites-available/gitlab，将配置中server_name替换成实际访问的域名。</p>
  <p>将nginx加入git用户组</p>
  <pre class="prettyprint">$ usermod -a -G git nginx
$ chmod g+rx /home/git/</pre>
  <p>添加ssl证书或者自己生成一个</p>
  <pre class="prettyprint">$ cd /etc/nginx
$ openssl req -new -x509 -nodes -days 3560 -out gitlab.crt -keyout gitlab.key</pre>
  <p>启动nginx</p>
  <pre class="prettyprint">$ service nginx start</pre>
  <p>
    <strong>8、配置防火墙</strong>
  </p>
  <p>配置iptables，使用户可以访问http、https和ssh的端口。</p>
  <pre class="prettyprint">$ lokkit -s http -s https -s ssh</pre>
  <p>重新启动防火墙</p>
  <pre class="prettyprint">$ service iptables restart</pre>
  <p>至此就算安装完成了。默认的账号密码：</p>
  <pre class="prettyprint">admin@local.host
5iveL!fe</pre>
  <p>
    <strong>问题记录</strong>
  </p>
  <p>a、网站不能添加用户和创建项目问题？</p>
  <p>查了下日志，发现是权限的问题：</p>
  <p>Errno::EACCES (Permission denied – /home/git/gitlab/log/application.log):</p>
  <p>修改用户和所属用户组为git就可以了。</p>
  <p>b、无法push？</p>
  <p>在上面安装GitLab shell步骤时，一开始笔者是将配置中的gitlab_url设置成http://test.gitlab.com/，结果在push的时候出错了，后来查看GitLab项目日志，才发现GitLab shell和GitLab通信的时候产生了一个301跳转。这点通过GitLab的nginx配置也能看的出来。后来将http替换成https，self_signed_cert设置成true就OK了。</p>
  <p>
    <strong>总结</strong>
  </p>
  <p>安装的过程比较长，其中大部分时间花在了包的下载上。笔者以前没有接触过ruby，安装的过程中也了解了下Ruby、Gem、Bundle等软件，受益匪浅。一般来讲，照着上面的步骤安装，如果系统，软件等版本都一致的话，应该能成功安装。如果出现问题，可以多查查日志。GitLab项目的日志在该项目的log目录内。GitLab shell的日志在GitLab shell项目中的gitlab-shell.log</p>
  <p>
    <span>
      <b>注：</b>
      英文不好的朋友有福了，有兴趣的朋友也可以参与进来，也可以直接使用已经汉化好的文件，地址：http://git.oschina.net/linxuix/Git-Lab-Zh。    </span>
  </p>
</div>

        </div>
        <div class="article_social">
        <div class="article_like">
                <button class="btn btn-large btn-like" id="my_like2" data_id="A3qYRr">
                    <i class="icon-heart-empty"></i>
                    赞一个
                </button>
                <button class="btn btn-large btn-fav liked" id="my_like" data_id="A3qYRr">
                    <i class="icon-star-empty"></i>
                    收 藏
                </button>
        </div>
        <div class="bottom_ad huodong-detail-ad-banner clearfix">
            <script type="text/javascript">
    var cpro_id = "u1665123";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>

        </div>
        </div>
           <div id="site_articles">
              <div class="article-part-title">
                <span>推荐文章</span>
              </div>
          <ul class="side_article_list">
                <li class="side_article_list_item">
                    1.<a href="/articles/3EZbuq3" target="_blank" title="多个Jboss端口冲突配置；一个Jboss多个server端口配置">
                    多个Jboss端口冲突配置；一个Jboss多个server端口配置
                </a>
                </li>
                <li class="side_article_list_item">
                    2.<a href="/articles/zMRnMr" target="_blank" title="【每日一博】用 LFS 做极简高效的流媒体服务">
                    【每日一博】用 LFS 做极简高效的流媒体服务
                </a>
                </li>
                <li class="side_article_list_item">
                    3.<a href="/articles/myqINfi" target="_blank" title="rpc远程调用开发">
                    rpc远程调用开发
                </a>
                </li>
                <li class="side_article_list_item">
                    4.<a href="/articles/rIfM7vI" target="_blank" title="如何将自己的库或控件通过制作podspec提交到Cocoapods官方git上供所有人用或者设置为私有库给自己...">
                    如何将自己的库或控件通过制作podspec提交到Cocoapods官方git上供所..
                </a>
                </li>
                <li class="side_article_list_item">
                    5.<a href="/articles/jqaAVrZ" target="_blank" title="libgit2 v0.23.2 发布，Git 开发包">
                    libgit2 v0.23.2 发布，Git 开发包
                </a>
                </li>
                <li class="side_article_list_item">
                    6.<a href="/articles/ZRVRJb" target="_blank" title="揭开HTTP网络协议神秘面纱系列(二)">
                    揭开HTTP网络协议神秘面纱系列(二)
                </a>
                </li>
         </ul>
        </div>

        <div id="kan_articles"></div>
        <div id="article_weibo" style="display:none;">
            <div class='article-part-title'>
                <span>相关微博</span>
                <sub>
                    <a href="/articles/weibo_list/A3qYRr" target="_blank">(<i id="weibo_num"></i>)</a> 
               </sub>
            </div>
            <div class="related-weibo-list"></div>
        </div>
        <div class="comments">
    <div class="comments-area">
    <div class="comments-header">
        <h5>我来评几句</h5>
        <div class="alert comment-alert alert-error" style="display:none;">
            错误
        </div>
            <textarea cols="60" rows="5" id="comment-body" placeholder="请输入评论内容..." style="resize: none;"></textarea>
            <span class="btn btn-medium btn-submit"  id="comment-submit">登录后评论</span>
        <p style="margin-top: 5px;margin-left:10px;">
            已发表评论数(<span class="comment_cnt"></span>)
        </p>
    </div>
    <div class="comments-list">
        <div class="empty-cmts alert alert-success" style="display:none;">
            没有更多评论了^^
        </div>
    </div>
    <div class="more-comments" style="display:none;">
        <a href="">更多评论</a>
    </div>
    <div class="load-fail" style="display:none;">
        评论加载失败，<a href="javascript:reload_comments('A3qYRr',1,0,-1);">重新加载</a>
    </div>
    </div>
</div>

    </div>
         <div class="span4 article_right_side">
            
            <div class="right_top">
    <div class="article_related_site article_detail_bg">
    <h4 class="article-part-title">相关站点</h4>
    <div class="article_related_site_body clearfix">
        <div class="logo">
            <img src="http://stimg3.tuicool.com/JNzQre.png"/>
        </div>
        <div class="name">
            <div>
                <a href="/sites/JNzQre" target="_blank"> 开源中国新闻</a>
            </div>
            <div>
                    <input type="button" class="btn btn-success right_site_follow" value="+&nbsp;订阅" id="my_follow" data_id="JNzQre"/>
            </div>
        </div>
    </div>
</div>

<div class="right-ad">
      <script type="text/javascript">BAIDU_CLB_fillSlot("1092367");</script>

</div>
<div class="right-ad" style="margin-top: 8px">
      <script type="text/javascript">BAIDU_CLB_fillSlot("1086175");</script>

</div>
<div class="right-ad" style="margin-top: 8px">
      <script type="text/javascript">BAIDU_CLB_fillSlot("1086186");</script>

</div>
<div id="right_site_articles" class="article_detail_bg">
    <div class="article-part-title">
        <span>热门文章</span>
    </div>
    <ul class="side_article_list">
        <li class="side_article_list_item">
            1.<a href="/articles/3EZbuq3" target="_blank" title="多个Jboss端口冲突配置；一个Jboss多个server端口配置"> 多个Jboss端口冲突配置；一个Jboss多个server端口配置 </a>
        </li>
        <li class="side_article_list_item">
            2.<a href="/articles/zMRnMr" target="_blank" title="【每日一博】用 LFS 做极简高效的流媒体服务"> 【每日一博】用 LFS 做极简高效的流媒体服务 </a>
        </li>
        <li class="side_article_list_item">
            3.<a href="/articles/myqINfi" target="_blank" title="rpc远程调用开发"> rpc远程调用开发 </a>
        </li>
        <li class="side_article_list_item">
            4.<a href="/articles/rIfM7vI" target="_blank" title="如何将自己的库或控件通过制作podspec提交到Cocoapods官方git上供所有人用或者设置为私有库给自己..."> 如何将自己的库或控件通过制作podspec提交到Cocoapods官方git上供所有人用或者.. </a>
        </li>
        <li class="side_article_list_item">
            5.<a href="/articles/jqaAVrZ" target="_blank" title="libgit2 v0.23.2 发布，Git 开发包"> libgit2 v0.23.2 发布，Git 开发包 </a>
        </li>
        <li class="side_article_list_item">
            6.<a href="/articles/ZRVRJb" target="_blank" title="揭开HTTP网络协议神秘面纱系列(二)"> 揭开HTTP网络协议神秘面纱系列(二) </a>
        </li>
    </ul>
</div>
</div>

<div class="operate_zone">
    <div class="container-body share-body">
        <div class="article-part-title">
            <span>分享本文</span>
        </div>
        <div class="share_zone">
    <div class="bdsharebuttonbox"> 
         <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
        <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
        <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
        <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
        <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
        <a href="#" class="bds_more" data-cmd="more"></a>
     </div>
    <script>
        window._bd_share_config = {
            "common" : {
                "bdSnsKey" : {
                    "tsina" : "3113829255",
                    "tqq" : "801536792"
                },
                "bdText" : "【每日一博】安装 GitLab 全过程和问题记录 (分享自 @推酷网)",
                "bdMini" : "2",
                "bdMiniList" : false,
                "bdPic" : "http://aimg0.tuicool.com/7VbUza.png",
                "bdStyle" : "1",
                "bdSize" : "24"
            },
            "share" : {}
        };
        with (document)
        0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];
    </script>
</div>
    </div>
        <div class="frd_pos">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-7054762349007490"
     data-ad-slot="5705695566"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
</div>
         </div>
</div>

<div id="myLoginModal" class="modal hide fade">
    <div class="modal-header">
        <a class="close" data-dismiss="modal" >&times;</a>
        <h3>用户登录</h3>
    </div>
    <div class="modal-body">
        <form method="post" action="/login" class="form-horizontal" id="login-form">
            <div class="control-group">
                <input id="xlEmail" name="email" type="text" placeholder="邮箱" />
            </div>
            <div class="control-group">
                <input id="xlPassword" name="password" type="password" placeholder="密码"/>
            </div>
            <div class="control-group">
                <button type="submit" class="btn btn-primary">
                    &nbsp;&nbsp;登&nbsp;&nbsp;&nbsp;录&nbsp;&nbsp;
                </button>
            </div>
        </form>
    </div>
</div>

<div class="read-later-alert">
</div>
<div>
   <a href="#add-article-to-kan" id="add-article-to-kan-btn" class="btn" data-toggle="modal" style="display:none;">添加到推刊</a>
   <!-- add_article to kan -->
<div id="add-article-to-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <span class="add-title">收藏到推刊</span>
    <a href="#new-kan" class="btn pull-right" data-toggle="modal">创建推刊</a>
    <i class="clearfix"></i>
  </div>
  <div class="modal-body">
    <ul id="add-kan-list">
    </ul>
  </div>
  <div class="modal-footer">
    <input type="hidden" value="A3qYRr" class="article-id" /> 
    <button class="btn btn-primary pull-left add-to-btn">  收 藏  </button>
    <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button>
  </div>
</div>
<div class="add-article-to-kan-alert">
  已收藏到推刊！
</div>

   <div id="new-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-body">
    <input type="text" name="name" id="new-kan-name"  placeholder="推刊名(必填)" required data-validation-required-message="请填写推刊名" />
    <span class="new-ness-name">请填写推刊名</span>
    <br/>
    <textarea name="desc" id="desc" rows="6" placeholder="推刊描述"></textarea>
    <span class="new-ness-desc">描述不能大于100个字符!</span>
    <br/>
    权限设置：<input type="radio" name="type" value="1" checked="checked" /> 公开
    <input type="radio" name="type" value="0"> 仅自己可见
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary pull-left create-kan-btn" disabled>创建</button>
    <button class="btn dismiss-new-kan" data-dismiss="modal" aria-hidden="true">取消</button>
  </div>
</div>


</div>
<style type="text/css">
    .btn-large {
        padding: 0;
    }
    .load-fail {
        display: none;
    }
</style>
<script src="http://static1.tuicool.com//assets/highlight.pack.js"></script>
<script type="text/javascript">
    $('table').each(function(i) {
        var size = $(this).children().size();
        if (size > 1) {
            $(this).attr('class',"table table-bordered");
        } else if (size == 1) {
            var e11 = $(this).children(":first");
            var e1 = e11[0];
            var name = e1.nodeName.toLowerCase();
            if ("tbody" == name) {
                if (e11.children().size() > 1) {
                     $(this).attr('class',"table table-bordered");
                }
            }
        }
    });
        window.page = 0;
        window.last = 0;    
        window.first = true;
        resize_article_image('#nei', 550);
                load_comments("A3qYRr",1,0,-1);
                window.uid = -1;
        open_add_article_to_kan("false");
        async_do_like2_article(); 
        $('pre').each(function(i, e) {
            hljs.highlightBlock(e, "<span class='indent'>  </span>", false)
        });
       
          
       handle_follow_site("#my_follow","已订阅","+ 订阅");
</script>


  </div>

    <div class="footer">
    <div class="footer-inner">
    <dl class="about-link site-link">
        <dt>
            网站相关
        </dt>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/about">关于我们</a>
        </dd>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/mobile">移动应用</a>
        </dd>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/bbs/go/issues">建议反馈</a>
        </dd>
    </dl>
    <dl class="site-link follow-link">
        <dt>
            关注我们
        </dt>
        <dd>
            <a target="_blank" href="http://e.weibo.com/tuicool2012"><img src="http://static1.tuicool.com/images/weibo-32.png">推酷网</a>
        </dd>
        <dd><img src="http://static1.tuicool.com/images/weixin-32.png">tuicool2012
        </dd>
        <dd><img src="http://static1.tuicool.com/images/qun-54.png">QQ群:164644910
        </dd>
    </dl>
    <dl class="site-link links">
        <dt>
            友情链接
        </dt>
        <dd>
                <a href="http://www.woshipm.com/" title="人人都是产品经理" target="_blank">人人都是产品经理</a>
                <a href="http://www.tmtforum.com/" title="TMTForum" target="_blank">TMTForum</a>
                <a href="http://www.moobuu.com/" title="魔部网" target="_blank">魔部网</a>
                <a href="http://www.pm265.com/" title="PM256" target="_blank">PM256</a>
                <a href="http://www.pintu360.com/" title="品途网" target="_blank">品途网</a>
                <a href="http://www.yidonghua.com/" title="移动信息化" target="_blank">移动信息化</a>
                <a href="http://www.snsiu.com/" title="行晓网" target="_blank">行晓网</a>
                <a href="http://code4app.com/" title="Code4App" target="_blank">Code4App</a>
                <a href="http://www.taskcity.com/" title="智城外包网" target="_blank">智城外包网</a>
                <a href="http://blog.lamper.cn/" title="LAMP人" target="_blank">LAMP人</a>
                <a href="http://www.apkway.com/forum.php" title="安卓航班网" target="_blank">安卓航班网</a>
                <a href="http://www.huxiu.com/" title="虎嗅" target="_blank">虎嗅</a>
                <a href="http://www.ycpai.com/" title="缘创派" target="_blank">缘创派</a>
                <a href="http://www.iterduo.com/" title="IT耳朵" target="_blank">IT耳朵</a>
                <a href="http://www.iresearch.cn/" title="艾瑞网" target="_blank">艾瑞网</a>
                <a href="http://mediaworks.caixin.com/" title="创媒工场" target="_blank">创媒工场</a>
                <a href="http://www.leiphone.com/" title="雷锋网" target="_blank">雷锋网</a>
                <a href="http://www.managershare.com/" title="经理人分享" target="_blank">经理人分享</a>
                <a href="http://www.shichangbu.com/" title="市场部网" target="_blank">市场部网</a>
                <a href="http://www.ikanchai.com/" title="砍柴网" target="_blank">砍柴网</a>
                <a href="http://www.cocoachina.com/" title="CocoaChina" target="_blank">CocoaChina</a>
                <a href="http://www.ibeifeng.com/" title="北风网" target="_blank">北风网</a>
                <a href="http://www.jiankongbao.com/" title="云智慧" target="_blank">云智慧</a>
                <a href="http://www.wyzc.com" title="我赢职场" target="_blank">我赢职场</a>
                <a href="http://www.thebigdata.cn/" title="大数据时代" target="_blank">大数据时代</a>
                <a href="http://www.qidic.com/" title="奇笛网" target="_blank">奇笛网</a>
                <a href="http://www.cngulu.com/" title="咕噜网" target="_blank">咕噜网</a>
                <a href="http://www.linuxdiyf.com/" title="红联linux" target="_blank">红联linux</a>
                <a href="http://win10.ithome.com" title="Win10之家" target="_blank">Win10之家</a>
                <a href="http://www.niaogebiji.com/" title="鸟哥笔记" target="_blank">鸟哥笔记</a>
                <a href="http://www.play.cn" title="爱游戏" target="_blank">爱游戏</a>
                <a href="http://www.investide.cn/" title="投资潮" target="_blank">投资潮</a>
                <a href="http://www.31huiyi.com/" title="31会议网" target="_blank">31会议网</a>
                <a href="https://www.jpush.cn/" title="极光推送" target="_blank">极光推送</a>
                <a href="https://www.teambition.com/" title="Teambition" target="_blank">Teambition</a>
                <a href="http://cn.cocos2d-x.org/ " title="Cocos引擎中文官网" target="_blank">Cocos引擎中文官网</a>
                <a href="http://www.guigu.org/" title="硅谷网" target="_blank">硅谷网</a>
            <a href="/links">更多链接>></a>&nbsp;&nbsp;
        </dd>
    </dl>
    <div class="clear"></div>
    </div>
</div>

<div style="display:none;">
   <script src="http://s22.cnzz.com/stat.php?id=5541078&web_id=5541078&show=pic" language="JavaScript"></script>
</div>


</body>
</html>
